<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>T2 Information Form</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-database-compat.js"></script>
    <style>
        body {
            background-color: #f8f9fa;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        .form-container {
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
            padding: 30px;
            margin-top: 50px;
            margin-bottom: 50px;
        }
        .form-header {
            text-align: center;
            margin-bottom: 30px;
            color: #343a40;
        }
        .form-header h2 {
            font-weight: 700;
        }
        .btn-submit {
            background-color: #4e73df;
            border: none;
            padding: 12px;
            font-weight: 600;
            width: 100%;
        }
        .btn-submit:hover {
            background-color: #2e59d9;
        }
        .required-field::after {
            content: " *";
            color: red;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-md-8 col-lg-6">
                <div class="form-container">
                    <div class="form-header">
                        <h2>Students Information Form</h2>
                        <p>Please fill in your details accurately</p>
                    </div>
                    <form id="userForm">
                        <div class="mb-3">
                            <label for="name" class="form-label required-field">Full Name</label>
                            <input type="text" class="form-control" id="name" required>
                        </div>
                        
                        <div class="mb-3">
                            <label for="cast" class="form-label required-field">Cast</label>
                            <input type="text" class="form-control" id="cast" required>
                        </div>
                        
                        <div class="mb-3">
                            <label for="mobile" class="form-label required-field">Mobile Number</label>
                            <input type="tel" class="form-control" id="mobile" required>
                        </div>
                        
                        <div class="mb-3">
                            <label for="address" class="form-label required-field">Address</label>
                            <textarea class="form-control" id="address" rows="3" required></textarea>
                        </div>
                        
                        <div class="mb-3">
                            <label for="bloodGroup" class="form-label required-field">Blood Group</label>
                            <select class="form-select" id="bloodGroup" required>
                                <option value="" selected disabled>Select Blood Group</option>
                                <option value="A+">A+</option>
                                <option value="A-">A-</option>
                                <option value="B+">B+</option>
                                <option value="B-">B-</option>
                                <option value="AB+">AB+</option>
                                <option value="AB-">AB-</option>
                                <option value="O+">O+</option>
                                <option value="O-">O-</option>
                            </select>
                        </div>
                        
                        <div class="mb-3">
                            <label class="form-label required-field">Religion/Caste</label>
                            <div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="religion" id="hindu" value="Hindu" required>
                                    <label class="form-check-label" for="hindu">Hindu</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="religion" id="muslim" value="Muslim">
                                    <label class="form-check-label" for="muslim">Muslim</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="religion" id="christian" value="Christian">
                                    <label class="form-check-label" for="christian">Christian</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="religion" id="sikh" value="Sikh">
                                    <label class="form-check-label" for="sikh">Sikh</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" name="religion" id="other" value="Other">
                                    <label class="form-check-label" for="other">Other</label>
                                </div>
                            </div>
                        </div>
                        
                        <div class="mb-3">
                            <label for="casteDetails" class="form-label">Caste Details (if any)</label>
                            <input type="text" class="form-control" id="casteDetails">
                        </div>
                        
                        <div class="d-grid gap-2">
                            <button type="submit" class="btn btn-primary btn-submit">Submit Information</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <script>
        // Your web app's Firebase configuration
        const firebaseConfig = {
  apiKey: "AIzaSyC4S-WRBFerZmnub3yuY131CpPvfql_NCY",
  authDomain: "t2upload.firebaseapp.com",
  databaseURL: "https://t2upload-default-rtdb.firebaseio.com",
  projectId: "t2upload",
  storageBucket: "t2upload.appspot.com",
  messagingSenderId: "1000887477924",
  appId: "1:1000887477924:web:feba016b5699e9652ea831",
  measurementId: "G-RNGDJJ1TJ8"
};

        // Initialize Firebase
        const app = firebase.initializeApp(firebaseConfig);
        const database = firebase.database();

        // Form submission handler
        document.getElementById('userForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Get form values
            const name = document.getElementById('name').value;
            const cast = document.getElementById('cast').value;
            const mobile = document.getElementById('mobile').value;
            const address = document.getElementById('address').value;
            const bloodGroup = document.getElementById('bloodGroup').value;
            const religion = document.querySelector('input[name="religion"]:checked').value;
            const casteDetails = document.getElementById('casteDetails').value;
            
            // Create user object
            const userData = {
                name: name,
                cast: cast,
                mobile: mobile,
                address: address,
                bloodGroup: bloodGroup,
                religion: religion,
                casteDetails: casteDetails,
                timestamp: firebase.database.ServerValue.TIMESTAMP
            };
            
            // Save to Firebase
            const newUserRef = database.ref('users').push();
            newUserRef.set(userData)
                .then(() => {
                    alert('Information submitted successfully!');
                    document.getElementById('userForm').reset();
                })
                .catch((error) => {
                    console.error('Error saving data: ', error);
                    alert('There was an error submitting your information. Please try again.');
                });
        });

        // Mobile number validation
        document.getElementById('mobile').addEventListener('input', function(e) {
            this.value = this.value.replace(/[^0-9]/g, '');
            if (this.value.length > 10) {
                this.value = this.value.slice(0, 10);
            }
        });
    </script>
</body>
</html>